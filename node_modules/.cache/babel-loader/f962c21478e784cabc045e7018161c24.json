{"ast":null,"code":"import _toConsumableArray from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dci/PROJECTS/cocktailmaster/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import SearchComponent from\"./components/SearchComponent\";import{BrowserRouter,Route,Switch}from\"react-router-dom\";/* components */import\"./App.scss\";import{getDataList,isInFavorite,getDataByID,getRandomCocktail,clearFavorites,clearRandoms}from\"./utils/functions\";import Home from\"./View/Home\";import SearchResult from\"./View/SearchResult\";import RandomResult from\"./View/RandomResult\";import FavoriteList from\"./View/FavoriteList\";import Page404 from\"./View/Page404\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={homeRoute:false,byIngredients:true,drinks:[],favorites:[],randoms:[],searchBy:\"s\",inputText:\"margarita\"};_this.toggleByIngredients=_this.toggleByIngredients.bind(_assertThisInitialized(_this));_this.saveAPIData=_this.saveAPIData.bind(_assertThisInitialized(_this));_this.saveToFavorite=_this.saveToFavorite.bind(_assertThisInitialized(_this));_this.saveRandomDrink=_this.saveRandomDrink.bind(_assertThisInitialized(_this));_this.clearFavorites=clearFavorites.bind(_assertThisInitialized(_this));_this.clearRandoms=clearRandoms.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"toggleByIngredients\",value:function toggleByIngredients(){this.setState({byIngredients:!this.state.byIngredients});}},{key:\"saveAPIData\",value:function(){var _saveAPIData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchBy,InputText){var drinks;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getDataList(searchBy,InputText);case 3:drinks=_context.sent;this.setState({drinks:drinks.drinks,byIngredients:searchBy===\"i\"});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function saveAPIData(_x,_x2){return _saveAPIData.apply(this,arguments);}return saveAPIData;}()},{key:\"saveRandomDrink\",value:function(){var _saveRandomDrink=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var randomDrink,randoms;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getRandomCocktail();case 3:randomDrink=_context2.sent;randoms=this.state.randoms;randoms.unshift(randomDrink.drinks[0]);this.setState({randoms:randoms});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,this,[[0,9]]);}));function saveRandomDrink(){return _saveRandomDrink.apply(this,arguments);}return saveRandomDrink;}()},{key:\"componentDidMount\",value:function componentDidMount(){var drinks=JSON.parse(localStorage.getItem(\"favoriteDrinks\"));this.setState({favorites:drinks,drinks:drinks});}},{key:\"saveToFavorite\",value:function saveToFavorite(drink){var drinks=this.state.favorites;var finalDrinks=[];if(drinks){if(isInFavorite(drinks,drink.idDrink)){finalDrinks=drinks.filter(function(item){return item.idDrink!==drink.idDrink;});}else{finalDrinks=[].concat(_toConsumableArray(drinks),[drink]);}//\n}else{finalDrinks=[drink];}this.setState({favorites:finalDrinks});localStorage.setItem(\"favoriteDrinks\",JSON.stringify(finalDrinks));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Route,{path:\"/\"},/*#__PURE__*/React.createElement(SearchComponent,{saveRandomDrink:this.saveRandomDrink,saveAPIData:this.saveAPIData,toggleHomeRoute:this.toggleHomeRoute})),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(Home,null)),/*#__PURE__*/React.createElement(Route,{path:\"/search-result\"},/*#__PURE__*/React.createElement(SearchResult,{drinksList:this.state.drinks,favoriteList:this.state.favorites,saveToFavorite:this.saveToFavorite,saveSingleData:this.saveSingleData,byIngredients:this.state.byIngredients,toggleByIngredients:this.toggleByIngredients})),/*#__PURE__*/React.createElement(Route,{path:\"/random-result\"},/*#__PURE__*/React.createElement(RandomResult,{randomList:this.state.randoms,favoriteList:this.state.favorites,saveToFavorite:this.saveToFavorite,clearRandoms:this.clearRandoms})),/*#__PURE__*/React.createElement(Route,{path:\"/favorite-list\"},/*#__PURE__*/React.createElement(FavoriteList,{favoriteList:this.state.favorites,saveToFavorite:this.saveToFavorite,clearFavorites:this.clearFavorites})),/*#__PURE__*/React.createElement(Route,{path:\"/\"},/*#__PURE__*/React.createElement(Page404,null)))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/dci/PROJECTS/cocktailmaster/src/App.js"],"names":["React","SearchComponent","BrowserRouter","Route","Switch","getDataList","isInFavorite","getDataByID","getRandomCocktail","clearFavorites","clearRandoms","Home","SearchResult","RandomResult","FavoriteList","Page404","App","props","state","homeRoute","byIngredients","drinks","favorites","randoms","searchBy","inputText","toggleByIngredients","bind","saveAPIData","saveToFavorite","saveRandomDrink","setState","InputText","console","log","randomDrink","unshift","JSON","parse","localStorage","getItem","drink","finalDrinks","idDrink","filter","item","setItem","stringify","toggleHomeRoute","saveSingleData","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport SearchComponent from \"./components/SearchComponent\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n/* components */\nimport \"./App.scss\";\nimport {\n  getDataList,\n  isInFavorite,\n  getDataByID,\n  getRandomCocktail,\n  clearFavorites,\n  clearRandoms,\n} from \"./utils/functions\";\nimport Home from \"./View/Home\";\nimport SearchResult from \"./View/SearchResult\";\nimport RandomResult from \"./View/RandomResult\";\nimport FavoriteList from \"./View/FavoriteList\";\nimport Page404 from \"./View/Page404\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homeRoute: false,\n      byIngredients: true,\n      drinks: [],\n      favorites: [],\n      randoms: [],\n      searchBy: \"s\",\n      inputText: \"margarita\",\n    };\n    this.toggleByIngredients = this.toggleByIngredients.bind(this);\n    this.saveAPIData = this.saveAPIData.bind(this);\n    this.saveToFavorite = this.saveToFavorite.bind(this);\n    this.saveRandomDrink = this.saveRandomDrink.bind(this);\n    this.clearFavorites = clearFavorites.bind(this);\n    this.clearRandoms = clearRandoms.bind(this);\n  }\n\n  toggleByIngredients() {\n    this.setState({ byIngredients: !this.state.byIngredients });\n  }\n\n  async saveAPIData(searchBy, InputText) {\n    try {\n      const drinks = await getDataList(searchBy, InputText);\n\n      this.setState({ drinks: drinks.drinks, byIngredients: searchBy === \"i\" });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  async saveRandomDrink() {\n    try {\n      const randomDrink = await getRandomCocktail();\n      let randoms = this.state.randoms;\n      randoms.unshift(randomDrink.drinks[0]);\n      this.setState({ randoms });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  componentDidMount() {\n    let drinks = JSON.parse(localStorage.getItem(\"favoriteDrinks\"));\n    this.setState({ favorites: drinks, drinks });\n  }\n\n  saveToFavorite(drink) {\n    let drinks = this.state.favorites;\n    let finalDrinks = [];\n    if (drinks) {\n      if (isInFavorite(drinks, drink.idDrink)) {\n        finalDrinks = drinks.filter((item) => item.idDrink !== drink.idDrink);\n      } else {\n        finalDrinks = [...drinks, drink];\n      }\n\n      //\n    } else {\n      finalDrinks = [drink];\n    }\n    this.setState({ favorites: finalDrinks });\n    localStorage.setItem(\"favoriteDrinks\", JSON.stringify(finalDrinks));\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <BrowserRouter>\n          <Route path=\"/\">\n            <SearchComponent\n              saveRandomDrink={this.saveRandomDrink}\n              saveAPIData={this.saveAPIData}\n              toggleHomeRoute={this.toggleHomeRoute}\n            />\n          </Route>\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n            <Route path=\"/search-result\">\n              <SearchResult\n                drinksList={this.state.drinks}\n                favoriteList={this.state.favorites}\n                saveToFavorite={this.saveToFavorite}\n                saveSingleData={this.saveSingleData}\n                byIngredients={this.state.byIngredients}\n                toggleByIngredients={this.toggleByIngredients}\n              />\n            </Route>\n            <Route path=\"/random-result\">\n              <RandomResult\n                randomList={this.state.randoms}\n                favoriteList={this.state.favorites}\n                saveToFavorite={this.saveToFavorite}\n                clearRandoms={this.clearRandoms}\n              />\n            </Route>\n            <Route path=\"/favorite-list\">\n              <FavoriteList\n                favoriteList={this.state.favorites}\n                saveToFavorite={this.saveToFavorite}\n                clearFavorites={this.clearFavorites}\n              />\n            </Route>\n            <Route path=\"/\">\n              <Page404 />\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}